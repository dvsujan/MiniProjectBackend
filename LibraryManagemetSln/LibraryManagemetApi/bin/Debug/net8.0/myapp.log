2024-05-31 14:58:25,045 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-05-31 14:58:25,074 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-05-31 14:58:25,078 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-05-31 14:58:25,083 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-05-31 14:58:49,014 [13] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-31 14:58:49,096 [13] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fine' on entity type 'Borrowed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-05-31 14:58:49,101 [13] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-05-31 14:58:50,455 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (94ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__enddate_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[Fine], [b].[PaymentId], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[BorrowedDate] >= @__startDate_0 AND [b].[BorrowedDate] <= @__enddate_1
2024-05-31 14:58:50,503 [10] INFO LibraryManagemetApi.Controllers.AnalyticsController - Fetched Analytics
2024-05-31 17:20:26,875 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-05-31 17:20:26,891 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-05-31 17:20:26,894 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-05-31 17:20:26,897 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-05-31 17:20:59,187 [10] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-05-31 17:20:59,245 [10] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Fine' on entity type 'Borrowed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-05-31 17:20:59,251 [10] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-05-31 17:21:00,650 [18] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (107ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-05-31 17:21:00,859 [18] INFO LibraryManagemetApi.Controllers.UserController - User dvsujan@gmail.com logged in
2024-06-02 21:08:27,019 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-02 21:08:27,034 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-02 21:08:27,037 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-02 21:08:27,040 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-02 21:09:40,147 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-02 21:09:40,162 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-02 21:09:40,167 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-02 21:09:40,170 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-02 21:17:46,052 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-02 21:17:46,061 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-02 21:17:46,065 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-02 21:17:46,067 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-02 21:18:59,710 [17] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-02 21:18:59,811 [17] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-02 21:19:01,849 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (151ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-06-02 21:19:02,141 [3] INFO LibraryManagemetApi.Controllers.UserController - User dvsujan@gmail.com logged in
2024-06-02 21:19:25,042 [18] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [l].[Id], [l].[Floor], [l].[Shelf]
FROM [Locations] AS [l]
2024-06-10 14:18:20,861 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-10 14:18:20,941 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-10 14:18:20,955 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-10 14:18:20,961 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-10 14:19:12,202 [18] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 14:19:12,280 [18] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 14:19:14,241 [15] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (191ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-06-10 14:19:14,493 [15] INFO LibraryManagemetApi.Controllers.UserController - User dvsujan@gmail.com logged in
2024-06-10 14:19:38,373 [10] WARN Microsoft.EntityFrameworkCore.Query - The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 14:19:38,379 [10] WARN Microsoft.EntityFrameworkCore.Query - The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 14:19:38,578 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 14:19:38,673 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:19:38,816 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:19:38,848 [18] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:19:38,874 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:19:38,883 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:19:38,890 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:19:38,896 [18] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:19:38,903 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:19:38,908 [15] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:19:38,912 [15] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 14:24:10,842 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-10 14:24:10,865 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-10 14:24:10,870 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-10 14:24:10,874 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-10 14:26:33,125 [3] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 14:26:33,193 [3] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 14:26:33,808 [3] WARN Microsoft.EntityFrameworkCore.Query - The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 14:26:33,813 [3] WARN Microsoft.EntityFrameworkCore.Query - The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 14:26:35,090 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (282ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 14:26:35,384 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (81ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:26:35,533 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:26:35,572 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:26:35,594 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:26:35,604 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:26:35,613 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:26:35,624 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:26:35,633 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:26:35,652 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:26:35,657 [3] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 14:30:57,138 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 14:30:57,155 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:30:57,169 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:30:57,177 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:30:57,197 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:30:57,218 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:30:57,228 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:30:57,244 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:30:57,263 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:30:57,271 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:30:57,276 [21] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 14:40:00,716 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Language], [a].[Name]
FROM [Authors] AS [a]
WHERE [a].[Name] = @__name_0
2024-06-10 14:40:01,389 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (63ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Authors] ([Language], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-06-10 14:40:01,461 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__name_0
2024-06-10 14:40:01,505 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Name]
FROM [Publishers] AS [p]
WHERE [p].[Name] = @__name_0
2024-06-10 14:40:01,716 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Publishers] ([Address], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-06-10 14:40:01,798 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
2024-06-10 14:40:01,991 [32] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (160ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books] ([AuthorId], [CategoryId], [CreatedAt], [ISBN], [LocationId], [PublishedDate], [PublisherId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-06-10 14:40:02,020 [32] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Stocks] ([BookId], [Quantity])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2024-06-10 14:40:12,897 [32] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 14:40:12,908 [32] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:40:12,920 [32] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:40:12,930 [32] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:40:12,939 [32] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:40:12,947 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:40:12,959 [32] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:40:12,965 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:40:12,970 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:40:12,977 [32] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:40:12,991 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 14:40:12,999 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 14:40:13,006 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 14:40:13,010 [27] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 14:41:35,789 [44] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 14:41:36,220 [44] WARN LibraryManagemetApi.Controllers.BookController - Book Not Found While updating Book
2024-06-10 14:57:49,928 [15] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:00:46,389 [15] WARN LibraryManagemetApi.Controllers.BookController - Book Not Found While updating Book
2024-06-10 15:02:48,047 [90] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:02:51,588 [92] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:03:02,490 [90] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (56ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [AuthorId] = @p0, [CategoryId] = @p1, [CreatedAt] = @p2, [ISBN] = @p3, [LocationId] = @p4, [PublishedDate] = @p5, [PublisherId] = @p6, [Title] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2024-06-10 15:03:06,655 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 15:03:11,826 [30] INFO LibraryManagemetApi.Controllers.BookController - 5 Updated
2024-06-10 15:06:27,984 [96] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__title_0_contains='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name], [l].[Id], [l].[Floor], [l].[Shelf]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
WHERE [b].[Title] LIKE @__title_0_contains ESCAPE N'\'
2024-06-10 15:06:37,309 [96] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__title_0_contains='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name], [l].[Id], [l].[Floor], [l].[Shelf]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
WHERE [b].[Title] LIKE @__title_0_contains ESCAPE N'\'
2024-06-10 15:06:37,324 [96] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:06:37,338 [96] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:06:37,347 [96] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:09:47,674 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 15:09:47,685 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:09:47,697 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:09:47,706 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:09:47,720 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:09:47,728 [83] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:09:47,738 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:09:47,747 [83] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:09:47,754 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:09:47,760 [83] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:09:47,768 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:09:47,777 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:09:47,783 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:09:47,788 [82] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 15:09:52,571 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 15:09:52,579 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:09:52,587 [83] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:09:52,595 [83] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:09:52,599 [83] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 15:09:57,075 [82] WARN Microsoft.EntityFrameworkCore.Query - The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 15:09:57,080 [82] WARN Microsoft.EntityFrameworkCore.Query - The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-10 15:09:57,102 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 15:09:57,110 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:09:57,117 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:09:57,124 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:09:57,128 [82] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 15:10:02,121 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 15:10:02,135 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:10:02,151 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:10:02,166 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:10:02,171 [85] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 15:10:07,067 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 15:10:07,076 [85] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 15:10:10,629 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 15:10:10,638 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:10:10,654 [83] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:10:10,662 [83] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:10:10,669 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:10:10,678 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:10:10,684 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:10:10,688 [82] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 15:10:17,765 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 15:10:17,782 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:10:17,798 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:10:17,806 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:10:17,816 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:10:17,822 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:10:17,830 [83] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:10:17,835 [83] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 15:10:24,310 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 15:10:24,320 [86] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:10:24,330 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:10:24,340 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:10:24,347 [85] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:10:24,354 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:10:24,360 [82] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:10:24,364 [82] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 15:12:00,812 [77] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 15:12:00,835 [77] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 15:12:00,921 [75] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:12:00,947 [75] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 15:12:00,995 [78] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 15:12:01,045 [78] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 15:12:01,070 [78] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 15:12:01,156 [78] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LibraryManagemetApi.Contexts.LibraryManagementContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Fine', table 'LibraryManagementApi.dbo.Borroweds'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff94903d-305b-4e5d-a341-2a225f19e58e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Fine', table 'LibraryManagementApi.dbo.Borroweds'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff94903d-305b-4e5d-a341-2a225f19e58e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-10 15:12:01,769 [78] ERROR LibraryManagemetApi.Controllers.BorrowController - An error occurred while saving the entity changes. See the inner exception for details.
2024-06-10 15:12:25,870 [76] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 15:12:25,880 [74] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 15:12:25,894 [74] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:12:25,901 [74] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 15:12:25,909 [74] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 15:12:25,919 [78] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 15:12:25,942 [78] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 15:12:25,962 [78] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LibraryManagemetApi.Contexts.LibraryManagementContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Fine', table 'LibraryManagementApi.dbo.Borroweds'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff94903d-305b-4e5d-a341-2a225f19e58e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Fine', table 'LibraryManagementApi.dbo.Borroweds'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff94903d-305b-4e5d-a341-2a225f19e58e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-10 15:12:26,816 [78] ERROR LibraryManagemetApi.Controllers.BorrowController - An error occurred while saving the entity changes. See the inner exception for details.
2024-06-10 15:12:54,295 [72] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-10 15:12:54,302 [74] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:12:54,311 [74] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:12:54,318 [72] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:12:54,325 [72] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:12:54,333 [76] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:12:54,341 [72] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:12:54,349 [78] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:12:54,356 [76] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:12:54,365 [78] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:12:54,371 [78] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 15:12:54,380 [78] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-10 15:12:54,390 [76] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-10 15:12:54,399 [76] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-10 15:13:43,826 [73] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 15:13:51,538 [71] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 15:13:54,951 [73] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:13:58,864 [76] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 15:14:15,984 [73] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 15:14:29,271 [76] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 15:14:43,147 [69] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 15:14:43,167 [69] ERROR Microsoft.EntityFrameworkCore.Update - An exception occurred in the database while saving changes for context type 'LibraryManagemetApi.Contexts.LibraryManagementContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Fine', table 'LibraryManagementApi.dbo.Borroweds'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff94903d-305b-4e5d-a341-2a225f19e58e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Fine', table 'LibraryManagementApi.dbo.Borroweds'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ff94903d-305b-4e5d-a341-2a225f19e58e
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-06-10 15:15:50,266 [1] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 15:15:50,320 [1] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 15:15:50,550 [1] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 15:15:50,556 [1] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 15:16:00,058 [1] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 15:16:00,146 [1] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 15:16:00,712 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2024-06-10 15:16:00,736 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-10 15:16:00,739 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2024-06-10 15:16:00,741 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-06-10 15:16:00,763 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-06-10 15:16:00,783 [1] INFO Microsoft.EntityFrameworkCore.Migrations - Applying migration '20240610094551_mig'.
2024-06-10 15:16:00,881 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
ALTER TABLE [Borroweds] DROP CONSTRAINT [FK_Borroweds_Payments_PaymentId];
2024-06-10 15:16:00,890 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DROP INDEX [IX_Borroweds_PaymentId] ON [Borroweds];
2024-06-10 15:16:00,961 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Borroweds]') AND [c].[name] = N'Fine');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Borroweds] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Borroweds] DROP COLUMN [Fine];
2024-06-10 15:16:00,983 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Borroweds]') AND [c].[name] = N'PaymentId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Borroweds] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Borroweds] DROP COLUMN [PaymentId];
2024-06-10 15:16:02,067 [1] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240610094551_mig', N'8.0.5');
2024-06-10 15:16:12,105 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-10 15:16:12,124 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-10 15:16:12,128 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-10 15:16:12,133 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-10 15:16:24,817 [5] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 15:16:24,882 [5] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 15:16:27,350 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (262ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 15:16:31,981 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (77ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 15:16:35,888 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (111ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:16:39,837 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (74ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 15:16:45,632 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 15:16:45,870 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 15:16:45,992 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 15:16:46,020 [14] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Book 1 by User 1
2024-06-10 15:17:27,662 [20] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 15:17:27,668 [20] INFO LibraryManagemetApi.Controllers.BorrowController - Fetched Borrowed Books by User 1
2024-06-10 15:17:57,962 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 15:18:25,933 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 15:18:25,946 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 15:18:25,962 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:18:25,969 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 15:18:25,987 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 15:18:26,406 [28] ERROR LibraryManagemetApi.Controllers.BorrowController - Exception of type 'LibraryManagemetApi.Exceptions.BookAlreadyBorrowedException' was thrown.
2024-06-10 15:22:45,634 [45] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 15:22:45,643 [44] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 15:22:45,655 [44] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:22:45,662 [45] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 15:22:45,668 [42] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 15:24:03,030 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-10 15:24:03,052 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-10 15:24:03,057 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-10 15:24:03,060 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-10 15:24:12,482 [7] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 15:24:12,623 [7] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 15:24:16,790 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (128ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 15:24:16,949 [14] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 15:24:17,305 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (101ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:24:17,649 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (50ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 15:24:17,736 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 15:24:23,097 [13] WARN LibraryManagemetApi.Controllers.BorrowController - Book Already Borrowed 1
2024-06-10 15:35:33,639 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (239ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 15:35:34,525 [31] WARN LibraryManagemetApi.Controllers.BookController - Book Not Found While updating Book
2024-06-10 15:55:49,765 [75] WARN LibraryManagemetApi.Controllers.BorrowController - Forbidden User 1
2024-06-10 17:08:28,709 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-10 17:08:28,740 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-10 17:08:28,745 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-10 17:08:28,749 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-10 17:09:20,197 [9] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 17:09:20,283 [9] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 17:09:22,596 [16] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (146ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-06-10 17:09:22,887 [16] INFO LibraryManagemetApi.Controllers.UserController - User user@example.com logged in
2024-06-10 17:09:27,676 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-06-10 17:09:28,599 [9] WARN LibraryManagemetApi.Controllers.UserController - Incorrect password for user user@example.com
2024-06-10 17:14:05,902 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-10 17:14:05,932 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-10 17:14:05,939 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-10 17:14:05,967 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-10 17:14:15,881 [11] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 17:14:15,994 [11] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 17:14:20,774 [11] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (430ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 17:14:24,389 [11] WARN LibraryManagemetApi.Controllers.BookController - Book Not Found While updating Book
2024-06-10 17:14:27,299 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 17:14:28,668 [7] WARN LibraryManagemetApi.Controllers.BookController - Book Not Found While updating Book
2024-06-10 17:14:46,783 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 17:14:47,311 [10] WARN LibraryManagemetApi.Controllers.BookController - Entity not found while deleting book
2024-06-10 17:14:55,214 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Language], [a].[Name]
FROM [Authors] AS [a]
WHERE [a].[Name] = @__name_0
2024-06-10 17:14:55,496 [16] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Authors] SET [Language] = @p0, [Name] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 17:14:55,525 [16] INFO LibraryManagemetApi.Controllers.BookController - Walter edited
2024-06-10 17:15:26,698 [10] WARN LibraryManagemetApi.Controllers.BorrowController - Forbidden User 1
2024-06-10 17:16:43,913 [25] WARN LibraryManagemetApi.Controllers.BorrowController - Forbidden User 1
2024-06-10 17:16:55,277 [22] WARN LibraryManagemetApi.Controllers.BorrowController - Forbidden User 1
2024-06-10 17:17:08,203 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:17:08,294 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 17:17:09,139 [25] WARN LibraryManagemetApi.Controllers.BorrowController - Entity Not Found 1 or 4
2024-06-10 17:17:19,383 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:17:19,409 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 17:17:19,522 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 17:17:20,161 [27] WARN LibraryManagemetApi.Controllers.BorrowController - Book Not Borrowed 2
2024-06-10 17:17:25,604 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:17:25,673 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 17:17:25,696 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 17:17:25,839 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-10 17:17:25,895 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 17:17:25,926 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 17:17:25,932 [25] INFO LibraryManagemetApi.Controllers.BorrowController - Returned Book 1 by User 1
2024-06-10 17:18:08,640 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (77ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 17:18:08,660 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:18:08,682 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 17:18:08,696 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 17:18:08,744 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (28ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 17:18:08,778 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (26ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 17:18:08,878 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 17:18:08,917 [3] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Book 1 by User 1
2024-06-10 17:18:26,942 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 17:18:26,967 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-10 17:18:26,974 [27] INFO LibraryManagemetApi.Controllers.BorrowController - Renewed Book 1 by User 1
2024-06-10 17:22:24,866 [35] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 17:27:48,879 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:27:48,895 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 17:27:48,903 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 17:27:48,924 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BorrowedId], [p].[CardId], [p].[PaymentDate], [p].[UserId]
FROM [Payments] AS [p]
2024-06-10 17:27:49,538 [25] WARN LibraryManagemetApi.Controllers.BorrowController - Book Over Due 1
2024-06-10 17:28:26,939 [42] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:28:26,956 [43] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CVV], [c].[CardNumber], [c].[ExpDate], [c].[UserId]
FROM [Cards] AS [c]
WHERE [c].[Id] = @__p_0
2024-06-10 17:28:26,980 [43] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-10 17:28:27,482 [43] WARN LibraryManagemetApi.Controllers.PaymentContorller - Not found borrow 1
2024-06-10 17:28:33,858 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:28:33,864 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CVV], [c].[CardNumber], [c].[ExpDate], [c].[UserId]
FROM [Cards] AS [c]
WHERE [c].[Id] = @__p_0
2024-06-10 17:28:33,872 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-10 17:28:34,441 [27] WARN LibraryManagemetApi.Controllers.PaymentContorller - Not found borrow 8
2024-06-10 17:28:48,794 [42] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:28:48,802 [42] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CVV], [c].[CardNumber], [c].[ExpDate], [c].[UserId]
FROM [Cards] AS [c]
WHERE [c].[Id] = @__p_0
2024-06-10 17:28:48,810 [40] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-10 17:28:48,855 [40] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [BorrowedId], [CardId], [PaymentDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 17:28:48,864 [40] INFO LibraryManagemetApi.Controllers.PaymentContorller - Paid fine 4 for user 1
2024-06-10 17:29:10,078 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:29:10,087 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CVV], [c].[CardNumber], [c].[ExpDate], [c].[UserId]
FROM [Cards] AS [c]
WHERE [c].[Id] = @__p_0
2024-06-10 17:29:10,095 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-10 17:29:10,100 [41] INFO LibraryManagemetApi.Controllers.PaymentContorller - Paid fine 0 for user 1
2024-06-10 17:29:23,443 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 17:29:23,456 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CVV], [c].[CardNumber], [c].[ExpDate], [c].[UserId]
FROM [Cards] AS [c]
WHERE [c].[Id] = @__p_0
2024-06-10 17:29:23,464 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-10 17:29:23,483 [43] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [BorrowedId], [CardId], [PaymentDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 17:29:23,491 [43] INFO LibraryManagemetApi.Controllers.PaymentContorller - Paid fine 5 for user 1
2024-06-10 19:56:56,812 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-10 19:56:56,828 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-10 19:56:56,832 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-10 19:56:56,836 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-10 19:57:05,625 [10] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 19:57:05,690 [10] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 19:57:07,126 [5] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (88ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 19:57:07,371 [16] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (65ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CVV], [c].[CardNumber], [c].[ExpDate], [c].[UserId]
FROM [Cards] AS [c]
WHERE [c].[Id] = @__p_0
2024-06-10 19:57:07,417 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BorrowedId], [p].[CardId], [p].[PaymentDate], [p].[UserId]
FROM [Payments] AS [p]
2024-06-10 19:57:07,848 [9] WARN LibraryManagemetApi.Controllers.PaymentContorller - Payment already done 7
2024-06-10 19:57:25,070 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 19:57:25,079 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CVV], [c].[CardNumber], [c].[ExpDate], [c].[UserId]
FROM [Cards] AS [c]
WHERE [c].[Id] = @__p_0
2024-06-10 19:57:25,086 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BorrowedId], [p].[CardId], [p].[PaymentDate], [p].[UserId]
FROM [Payments] AS [p]
2024-06-10 19:57:25,104 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-10 19:57:25,369 [16] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [BorrowedId], [CardId], [PaymentDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 19:57:25,411 [16] INFO LibraryManagemetApi.Controllers.PaymentContorller - Paid fine 6 for user 1
2024-06-10 19:57:29,504 [16] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 19:57:29,512 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CVV], [c].[CardNumber], [c].[ExpDate], [c].[UserId]
FROM [Cards] AS [c]
WHERE [c].[Id] = @__p_0
2024-06-10 19:57:29,521 [16] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BorrowedId], [p].[CardId], [p].[PaymentDate], [p].[UserId]
FROM [Payments] AS [p]
2024-06-10 19:57:29,881 [16] WARN LibraryManagemetApi.Controllers.PaymentContorller - Payment already done 16
2024-06-10 19:59:10,629 [19] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'LibraryManagemetApi.Controllers.ReservationController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method416(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 20:00:00,837 [17] ERROR Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware - An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'LibraryManagemetApi.Controllers.ReservationController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method416(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-10 20:16:13,372 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-10 20:16:13,383 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-10 20:16:13,387 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-10 20:16:13,390 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-10 22:27:35,496 [17] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 22:27:35,560 [17] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 22:27:37,274 [15] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (119ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:27:37,520 [15] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:27:37,564 [15] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:27:37,618 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:27:37,994 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([BookId], [ReservationDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-10 22:27:38,072 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:27:38,090 [3] INFO LibraryManagemetApi.Controllers.ReservationController - Reserved book 1 for user 1
2024-06-10 22:29:29,560 [18] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:29:29,570 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:29:29,577 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:29:30,339 [21] WARN LibraryManagemetApi.Controllers.ReservationController - Book already reserved 1
2024-06-10 22:29:37,253 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:29:37,825 [21] WARN LibraryManagemetApi.Controllers.ReservationController - Book not found 1212
2024-06-10 22:29:45,411 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:29:45,868 [19] WARN LibraryManagemetApi.Controllers.ReservationController - Book not found 4
2024-06-10 22:29:50,797 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:29:50,806 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:29:50,812 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:29:50,822 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:29:50,835 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([BookId], [ReservationDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-10 22:29:50,846 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:29:50,853 [19] INFO LibraryManagemetApi.Controllers.ReservationController - Reserved book 5 for user 1
2024-06-10 22:30:24,082 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
WHERE [r].[Id] = @__p_0
2024-06-10 22:30:24,105 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Reservations]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-10 22:30:24,120 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:30:24,133 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:30:24,139 [25] INFO LibraryManagemetApi.Controllers.ReservationController - Cancelled reservation 5 for user 1
2024-06-10 22:30:46,286 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:30:46,294 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:30:46,304 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:30:46,309 [29] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:30:46,323 [29] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:30:46,609 [29] WARN LibraryManagemetApi.Controllers.BorrowController - Book Already Borrowed 1
2024-06-10 22:30:57,117 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:30:57,123 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:30:57,133 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:30:57,370 [30] WARN LibraryManagemetApi.Controllers.ReservationController - Book already reserved 1
2024-06-10 22:39:52,189 [46] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:39:52,196 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:39:52,211 [46] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:39:52,219 [46] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:39:52,225 [48] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:39:52,244 [48] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:39:52,284 [48] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 22:39:52,291 [48] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Book 2 by User 1
2024-06-10 22:45:49,641 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-10 22:45:49,659 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-10 22:45:49,665 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-10 22:45:49,669 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-10 22:46:05,108 [13] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-10 22:46:05,171 [13] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-10 22:46:06,574 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (96ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:46:06,700 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:46:06,880 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:46:07,003 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:46:07,685 [7] WARN LibraryManagemetApi.Controllers.BorrowController - Book Already Borrowed 1
2024-06-10 22:46:50,103 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:46:50,119 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:46:50,136 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:46:50,157 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:46:50,166 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:46:50,723 [19] WARN LibraryManagemetApi.Controllers.BorrowController - Book Already Borrowed 1
2024-06-10 22:47:03,185 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:47:03,204 [20] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:47:03,217 [20] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:47:03,242 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BorrowedId], [p].[CardId], [p].[PaymentDate], [p].[UserId]
FROM [Payments] AS [p]
2024-06-10 22:47:03,502 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-10 22:47:03,531 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:47:03,551 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:47:03,557 [9] INFO LibraryManagemetApi.Controllers.BorrowController - Returned Book 1 by User 1
2024-06-10 22:47:08,834 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:47:08,844 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:47:08,854 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:47:08,862 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:47:08,867 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:47:09,106 [21] WARN LibraryManagemetApi.Controllers.BorrowController - Book Not Reserved 1
2024-06-10 22:47:20,903 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:47:20,980 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:47:21,023 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:47:21,032 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:47:21,046 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:47:21,061 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:47:21,151 [19] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 22:47:21,180 [19] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Book 1 by User 1
2024-06-10 22:47:29,455 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:47:29,475 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:47:29,483 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:47:29,491 [21] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:47:29,823 [21] ERROR LibraryManagemetApi.Controllers.ReservationController - Exception of type 'LibraryManagemetApi.Exceptions.BookAlreadyBorrowedException' was thrown.
2024-06-10 22:49:11,321 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:49:11,330 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:49:11,336 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:49:11,342 [3] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:49:11,612 [3] WARN LibraryManagemetApi.Controllers.ReservationController - Book Already Borrowed 1
2024-06-10 22:49:18,813 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:49:18,832 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:49:18,840 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:49:18,855 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-10 22:49:18,861 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:49:18,872 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:49:18,877 [25] INFO LibraryManagemetApi.Controllers.BorrowController - Returned Book 1 by User 1
2024-06-10 22:49:22,550 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:49:22,559 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:49:22,565 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:49:22,570 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:49:22,864 [25] WARN LibraryManagemetApi.Controllers.ReservationController - Book Already Borrowed 1
2024-06-10 22:49:52,661 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:49:52,678 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:49:52,685 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:49:52,945 [26] WARN LibraryManagemetApi.Controllers.BorrowController - Book Not Borrowed 1
2024-06-10 22:50:02,577 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:50:02,584 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:50:02,598 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:50:02,604 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:50:02,611 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:50:02,621 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:50:02,633 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 22:50:02,637 [17] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Book 1 by User 1
2024-06-10 22:50:10,151 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:50:10,160 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:50:10,166 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:50:10,172 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:50:10,397 [26] WARN LibraryManagemetApi.Controllers.ReservationController - Book Already Borrowed 1
2024-06-10 22:50:20,448 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:50:20,462 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:50:20,471 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:50:20,613 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (134ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-10 22:50:20,624 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:50:20,639 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:50:20,647 [22] INFO LibraryManagemetApi.Controllers.BorrowController - Returned Book 1 by User 1
2024-06-10 22:50:41,535 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:50:41,547 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:50:41,553 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:50:41,785 [26] WARN LibraryManagemetApi.Controllers.BorrowController - Book Not Borrowed 1
2024-06-10 22:50:49,020 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:50:49,031 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:50:49,038 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:50:49,046 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:50:49,301 [22] WARN LibraryManagemetApi.Controllers.ReservationController - Book Already Borrowed 1
2024-06-10 22:50:56,653 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:50:56,661 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:50:56,667 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:50:56,672 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:50:56,680 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:50:56,703 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([BookId], [ReservationDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-10 22:50:56,716 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:50:56,730 [13] INFO LibraryManagemetApi.Controllers.ReservationController - Reserved book 1 for user 1
2024-06-10 22:51:04,605 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:51:04,615 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:51:04,631 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:51:04,640 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:51:04,646 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:51:04,919 [22] WARN LibraryManagemetApi.Controllers.BorrowController - Book Already Reserved 1
2024-06-10 22:51:08,936 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:51:08,943 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:51:08,955 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:51:08,960 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:51:08,967 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:51:08,979 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 22:51:08,998 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Reservations]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-10 22:51:09,008 [13] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Reserved Book 1 by User 1
2024-06-10 22:51:13,764 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:51:13,772 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:51:13,777 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:51:13,788 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-10 22:51:13,795 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:51:13,802 [23] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:51:13,807 [23] INFO LibraryManagemetApi.Controllers.BorrowController - Returned Book 1 by User 1
2024-06-10 22:51:19,347 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:51:19,354 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:51:19,360 [26] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:51:19,367 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:51:19,372 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:51:19,379 [22] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:51:19,385 [17] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-10 22:51:19,388 [17] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Book 1 by User 1
2024-06-10 22:51:25,558 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:51:25,568 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-10 22:51:25,578 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-10 22:51:25,584 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:51:25,889 [13] WARN LibraryManagemetApi.Controllers.ReservationController - Book Already Borrowed 1
2024-06-10 22:51:41,360 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-10 22:51:41,374 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-10 22:51:41,382 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-10 22:51:41,395 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-10 22:51:41,403 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-10 22:51:41,413 [13] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-10 22:51:41,417 [13] INFO LibraryManagemetApi.Controllers.BorrowController - Returned Book 1 by User 1
2024-06-11 14:15:47,308 [1] INFO Microsoft.Hosting.Lifetime - Now listening on: http://localhost:5122
2024-06-11 14:15:47,388 [1] INFO Microsoft.Hosting.Lifetime - Application started. Press Ctrl+C to shut down.
2024-06-11 14:15:47,446 [1] INFO Microsoft.Hosting.Lifetime - Hosting environment: Development
2024-06-11 14:15:47,663 [1] INFO Microsoft.Hosting.Lifetime - Content root path: C:\Users\VC\Desktop\MiniProjectLibraryManagement\LibraryManagemetSln\LibraryManagemetApi
2024-06-11 14:16:25,138 [10] WARN Microsoft.EntityFrameworkCore.Model.Validation - The foreign key property 'User.RoleId1' was created in shadow state because a conflicting property with the simple name 'RoleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2024-06-11 14:16:25,212 [10] WARN Microsoft.EntityFrameworkCore.Model.Validation - No store type was specified for the decimal property 'Amount' on entity type 'Payment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-06-11 14:16:27,409 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (226ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-06-11 14:16:28,076 [7] INFO LibraryManagemetApi.Controllers.UserController - User dvsujan@gmail.com logged in
2024-06-11 14:17:17,338 [10] WARN Microsoft.EntityFrameworkCore.Query - The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-11 14:17:17,352 [10] WARN Microsoft.EntityFrameworkCore.Query - The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-06-11 14:17:17,578 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (94ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-11 14:17:17,845 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (106ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:17:18,079 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (46ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:17:18,133 [5] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:17:18,162 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:17:18,180 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:17:18,195 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:17:18,205 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:17:18,219 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:17:18,269 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (31ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:17:18,328 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:17:18,384 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:17:18,405 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:17:18,413 [10] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-11 14:17:50,286 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (34ms) [Parameters=[@__title_0_contains='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name], [l].[Id], [l].[Floor], [l].[Shelf]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
WHERE [b].[Title] LIKE @__title_0_contains ESCAPE N'\'
2024-06-11 14:17:50,321 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:17:50,332 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:17:50,344 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:17:50,360 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:17:50,371 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:17:50,391 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:17:50,423 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (6ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:17:50,439 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:17:50,499 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (44ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:17:50,553 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (28ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:17:50,578 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:17:50,610 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:17:59,923 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@__title_0_contains='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name], [l].[Id], [l].[Floor], [l].[Shelf]
FROM [Books] AS [b]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
WHERE [b].[Title] LIKE @__title_0_contains ESCAPE N'\'
2024-06-11 14:17:59,936 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:17:59,947 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:17:59,961 [10] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:19:21,244 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-11 14:19:21,267 [25] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:19:21,300 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-11 14:19:21,375 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:19:21,430 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-11 14:19:21,721 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (36ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-11 14:19:21,901 [28] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 14:19:21,938 [28] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Book 1 by User 1
2024-06-11 14:19:28,137 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-11 14:19:28,157 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:19:28,191 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-11 14:19:28,202 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:19:28,762 [31] WARN LibraryManagemetApi.Controllers.BorrowController - Book Already Borrowed 1
2024-06-11 14:19:45,327 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:19:45,341 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-11 14:19:45,352 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:19:45,371 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-11 14:19:45,379 [31] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-11 14:19:45,390 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-11 14:19:45,395 [30] INFO LibraryManagemetApi.Controllers.BorrowController - Returned Book 1 by User 1
2024-06-11 14:20:12,822 [29] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-11 14:20:12,832 [33] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:20:12,849 [33] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-11 14:20:12,857 [34] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:20:12,871 [29] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-11 14:20:12,889 [29] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-11 14:20:12,905 [29] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 14:20:12,910 [29] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Book 1 by User 1
2024-06-11 14:21:47,606 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:21:47,629 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-11 14:21:47,642 [5] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:21:47,663 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BorrowedId], [p].[CardId], [p].[PaymentDate], [p].[UserId]
FROM [Payments] AS [p]
2024-06-11 14:21:48,162 [7] WARN LibraryManagemetApi.Controllers.BorrowController - Book Over Due 1
2024-06-11 14:22:29,526 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:22:29,537 [24] INFO LibraryManagemetApi.Controllers.BorrowController - Fetched Borrowed Books by User 1
2024-06-11 14:24:28,049 [39] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:24:28,068 [35] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CVV], [c].[CardNumber], [c].[ExpDate], [c].[UserId]
FROM [Cards] AS [c]
WHERE [c].[Id] = @__p_0
2024-06-11 14:24:28,094 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BorrowedId], [p].[CardId], [p].[PaymentDate], [p].[UserId]
FROM [Payments] AS [p]
2024-06-11 14:24:28,123 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[Id] = @__p_0
2024-06-11 14:24:28,169 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (12ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [BorrowedId], [CardId], [PaymentDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 14:24:28,179 [41] INFO LibraryManagemetApi.Controllers.PaymentContorller - Paid fine 7 for user 1
2024-06-11 14:24:38,920 [40] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:24:38,936 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-11 14:24:38,942 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:24:38,949 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[Id], [p].[Amount], [p].[BorrowedId], [p].[CardId], [p].[PaymentDate], [p].[UserId]
FROM [Payments] AS [p]
2024-06-11 14:24:38,964 [41] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-11 14:24:38,972 [40] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-11 14:24:38,981 [39] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-11 14:24:38,987 [39] INFO LibraryManagemetApi.Controllers.BorrowController - Returned Book 1 by User 1
2024-06-11 14:25:42,499 [41] WARN LibraryManagemetApi.Controllers.ReservationController - Forbidden User 1
2024-06-11 14:25:55,461 [38] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-11 14:25:55,469 [38] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:25:55,475 [38] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-11 14:25:55,488 [38] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:25:55,503 [38] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:25:55,534 [38] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([BookId], [ReservationDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-06-11 14:25:55,545 [40] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-11 14:25:55,560 [40] INFO LibraryManagemetApi.Controllers.ReservationController - Reserved book 1 for user 1
2024-06-11 14:27:55,236 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-11 14:27:55,244 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:27:55,256 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-11 14:27:55,262 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[ReservationDate], [r].[UserId]
FROM [Reservations] AS [r]
2024-06-11 14:27:55,269 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:27:55,280 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Borroweds] ([BookId], [BorrowedDate], [DueDate], [ReturnDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-06-11 14:27:55,297 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Reservations]
OUTPUT 1
WHERE [Id] = @p0;
2024-06-11 14:27:55,306 [9] INFO LibraryManagemetApi.Controllers.BorrowController - Borrowed Reserved Book 1 by User 1
2024-06-11 14:28:09,094 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:28:09,134 [9] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (15ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-11 14:28:09,145 [9] INFO LibraryManagemetApi.Controllers.BorrowController - Renewed Book 1 by User 1
2024-06-11 14:28:25,306 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2024-06-11 14:28:25,322 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [a].[Id], [a].[Language], [a].[Name], [c].[Id], [c].[Name]
FROM [Books] AS [b]
INNER JOIN [Locations] AS [l] ON [b].[LocationId] = [l].[Id]
INNER JOIN [Authors] AS [a] ON [b].[AuthorId] = [a].[Id]
INNER JOIN [Categories] AS [c] ON [b].[CategoryId] = [c].[Id]
WHERE [b].[Id] = @__id_0
2024-06-11 14:28:25,329 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
2024-06-11 14:28:25,341 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Borroweds] SET [BookId] = @p0, [BorrowedDate] = @p1, [DueDate] = @p2, [ReturnDate] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2024-06-11 14:28:25,348 [24] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[Id] = @__p_0
2024-06-11 14:28:25,356 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Stocks] SET [BookId] = @p0, [Quantity] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-06-11 14:28:25,360 [7] INFO LibraryManagemetApi.Controllers.BorrowController - Returned Book 1 by User 1
2024-06-11 14:28:59,578 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[Rating], [r].[UserId]
FROM [Reviews] AS [r]
2024-06-11 14:28:59,891 [30] WARN LibraryManagemetApi.Controllers.ReviewController - Review already exist 1
2024-06-11 14:29:09,577 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [r].[Id], [r].[BookId], [r].[Comment], [r].[Rating], [r].[UserId]
FROM [Reviews] AS [r]
2024-06-11 14:29:09,606 [5] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Single), @p3='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reviews] ([BookId], [Comment], [Rating], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-06-11 14:29:09,616 [5] INFO LibraryManagemetApi.Controllers.ReviewController - Added review 2 for book 2
2024-06-11 14:29:19,215 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[Id], [t].[AuthorId], [t].[CategoryId], [t].[CreatedAt], [t].[ISBN], [t].[LocationId], [t].[PublishedDate], [t].[PublisherId], [t].[Title], [l].[Id], [l].[Floor], [l].[Shelf], [c].[Id], [c].[Name]
FROM (
    SELECT [b].[Id], [b].[AuthorId], [b].[CategoryId], [b].[CreatedAt], [b].[ISBN], [b].[LocationId], [b].[PublishedDate], [b].[PublisherId], [b].[Title]
    FROM [Books] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Locations] AS [l] ON [t].[LocationId] = [l].[Id]
INNER JOIN [Categories] AS [c] ON [t].[CategoryId] = [c].[Id]
2024-06-11 14:29:19,284 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (23ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:29:19,302 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (5ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:29:19,332 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (8ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:29:19,344 [5] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:29:19,356 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:29:19,373 [7] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:29:19,386 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:29:19,395 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:29:19,409 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:29:19,419 [27] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[BookId], [s].[Quantity]
FROM [Stocks] AS [s]
WHERE [s].[BookId] = @__bookId_0
2024-06-11 14:29:19,429 [5] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (2ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) CAST(AVG([r].[Rating]) AS real)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
GROUP BY [r].[BookId]
2024-06-11 14:29:19,440 [30] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (1ms) [Parameters=[@__bookId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Reviews] AS [r]
WHERE [r].[BookId] = @__bookId_0
2024-06-11 14:29:19,447 [30] INFO LibraryManagemetApi.Controllers.BookController - Fetched All Books
2024-06-11 14:30:24,024 [29] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (3ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__enddate_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[BorrowedDate] >= @__startDate_0 AND [b].[BorrowedDate] <= @__enddate_1
2024-06-11 14:30:24,030 [29] INFO LibraryManagemetApi.Controllers.AnalyticsController - Fetched Analytics
2024-06-11 14:31:00,577 [43] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (13ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__enddate_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[BorrowedDate] >= @__startDate_0 AND [b].[BorrowedDate] <= @__enddate_1
2024-06-11 14:31:00,588 [43] INFO LibraryManagemetApi.Controllers.AnalyticsController - Fetched Analytics
2024-06-11 14:32:01,319 [49] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (19ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__enddate_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT [b].[Id], [b].[BookId], [b].[BorrowedDate], [b].[DueDate], [b].[ReturnDate], [b].[UserId]
FROM [Borroweds] AS [b]
WHERE [b].[BorrowedDate] >= @__startDate_0 AND [b].[BorrowedDate] <= @__enddate_1
2024-06-11 14:32:01,344 [49] INFO LibraryManagemetApi.Controllers.AnalyticsController - Fetched Due Analytics
2024-06-11 14:32:32,861 [50] INFO Microsoft.EntityFrameworkCore.Database.Command - Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Active], [u].[CreatedAt], [u].[Email], [u].[HashKey], [u].[Password], [u].[RoleId], [u].[RoleId1], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2024-06-11 14:32:32,867 [50] INFO LibraryManagemetApi.Controllers.UserController - User dvsujan@gmail.com logged in
